//@ui5-bundle custombookshop/Component-preload.js
jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"custombookshop/Component.js":function(){sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","custombookshop/model/models"],function(e,t,o){"use strict";return e.extend("custombookshop.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);this.getRouter().initialize();this.setModel(o.createDeviceModel(),"device")}})});
},
	"custombookshop/controller/App.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller"],function(o){"use strict";return o.extend("custombookshop.controller.App",{onInit:function(){}})});
},
	"custombookshop/controller/Main.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/m/MessageToast","sap/m/MessageBox","sap/ui/model/json/JSONModel"],function(e,t,o,i,s){"use strict";return e.extend("custombookshop.controller.Main",{onInit:function(){var e=new s({authorNameVisibility:false,categoryNameVisibility:false});this.getOwnerComponent().setModel(e,"viewModel");this.viewModel=this.getOwnerComponent().getModel("viewModel");this.i18n=this.getOwnerComponent().getModel("i18n").getResourceBundle()},onAfterRendering:function(){this.getView().getModel().read("/Authors",{success:$.proxy(function(e){this.viewModel.setProperty("/authors",e.results)},this)});this.getView().getModel().read("/Categories",{success:$.proxy(function(e){this.viewModel.setProperty("/categories",e.results)},this)})},onScanSuccess:function(e){var t=e.getParameter("text");var o=this.byId("smartFilterBar");o.setFilterData({isbn:t});o.getControlByKey("isbn").setValue(t);o.search()},onCreateBook:function(e){if(this._oDialog){this._oDialog.destroy();this._oDialog=undefined}this.openDialog(e)},onPressIsbn:function(e){let t=e.getSource().getBindingContext().getObject();let o="https://isbndb.com/book/"+t.isbn;window.open(o,"_blank")},onEditBook:function(e){this.openDialog(e,e.getSource().getBindingContext().getPath())},onDeleteBook:function(e){var t=e.getSource().getBindingContext();this.sPathToDelete=this.getView().getModel().createKey("/Books",{ID:t.getProperty("ID")});if(!this._oBookDeleteDialog){this._oBookDeleteDialog=new sap.m.Dialog({type:sap.m.DialogType.Message,title:this.i18n.getText("confirm"),content:new sap.m.Text({text:this.i18n.getText("areUSureBookDelete")}),beginButton:new sap.m.Button({type:sap.m.ButtonType.Emphasized,text:this.i18n.getText("delete"),press:function(){this.getView().getModel().remove(this.sPathToDelete,{success:$.proxy(function(e,t){o.show(this.i18n.getText("succBookDelete"))},this)});this._oBookDeleteDialog.close()}.bind(this)}),endButton:new sap.m.Button({text:this.i18n.getText("cancel"),press:function(){this._oBookDeleteDialog.close()}.bind(this)})});this._oBookDeleteDialog.open()}else{this._oBookDeleteDialog.open()}},onCreateAuthor:function(){this.viewModel.setProperty("/authorNameVisibility",true)},onCreateCategory:function(){this.viewModel.setProperty("/categoryNameVisibility",true)},openDialog:function(e,o){this.getView().getModel().resetChanges();this.viewModel.setProperty("/authorName","");if(!this.CreateBookDialog){t.load({id:"CreateBookDialog",name:"custombookshop.view.fragments.CreateBook",controller:this}).then(function(e){this.CreateBookDialog=e;this.getView().addDependent(this.CreateBookDialog);if(o!==undefined){this.bIsCreateNew=false;this.bindExistingBook(o)}else{this.bIsCreateNew=true;this.bindNewBook()}this.setDialogTitle(o);this.CreateBookDialog.open()}.bind(this))}else{if(o!==undefined){this.bIsCreateNew=false;this.bindExistingBook(o)}else{this.bIsCreateNew=true;this.bindNewBook()}this.setDialogTitle(o);this.CreateBookDialog.open()}},bindExistingBook:function(e){this.CreateBookDialog.bindElement({path:e});this.viewModel.setProperty("/authorNameVisibility",false);this.viewModel.setProperty("/categoryNameVisibility",false)},bindNewBook:function(){this.viewModel.setProperty("/authorNameVisibility",false);this.viewModel.setProperty("/categoryNameVisibility",false);this.tempEvent=this.getView().getModel().createEntry("Books",{properties:{}});this.CreateBookDialog.bindElement({path:this.tempEvent.getPath()})},setDialogTitle:function(e){if(this.CreateBookDialog){if(e!==undefined){this.CreateBookDialog.setTitle(this.i18n.getText("changeBook"))}else{this.CreateBookDialog.setTitle(this.i18n.getText("maintainBook"))}}},onCloseCreateBookDialog:function(){this.CreateBookDialog.close();this.tempEvent=null;this.CreateBookDialog.unbindElement()},saveBook:function(){let e=this.getView().getModel();let t=this.viewModel.getProperty("/authorName");if(t){this.authorEvent=this.getView().getModel().createEntry("/Authors",{properties:{name:t,ID:this.viewModel.getProperty("/authors").length+1}});e.setProperty(this.tempEvent.getPath()+"/author_ID",this.authorEvent.getProperty("ID"))}let s=this.viewModel.getProperty("/categoryName");if(s){this.categoryEvent=this.getView().getModel().createEntry("/Categories",{properties:{name:s,ID:this.viewModel.getProperty("/categories").length+1}});e.setProperty(this.tempEvent.getPath()+"/category_ID",this.categoryEvent.getProperty("ID"))}if(this.bIsCreateNew){this.setI18nResponseMsg("successfullyCreated","")}else{this.setI18nResponseMsg("successfullyUpdated","")}e.submitChanges({success:$.proxy(function(){o.show(this.i18n.getText(this.successI18nMsg))},this),error:function(e){var t=JSON.parse(e.responseText).error.message.value;i.error(t)}});this.CreateBookDialog.close()},setI18nResponseMsg:function(e,t){this.successI18nMsg=e},onBorrowBook:function(){if(!this.BorrowBookDialog){t.load({id:"BorrowBookDialog",name:"custombookshop.view.fragments.BorrowBook",controller:this}).then(function(e){this.BorrowBookDialog=e;this.getView().addDependent(this.BorrowBookDialog);this.bindNewBorrowBook();this.BorrowBookDialog.open()}.bind(this))}else{this.bindNewBorrowBook();this.BorrowBookDialog.open()}},bindNewBorrowBook:function(){this.getView().getModel().resetChanges();this.borrowBookEvent=this.getView().getModel().createEntry("Reportings",{properties:{borrowedDate:new Date,bookName:""}});this.BorrowBookDialog.bindElement({path:this.borrowBookEvent.getPath()})},onScanBorrowBookSuccess:function(e){if(e.getParameter("cancelled")){o.show("Scan cancelled",{duration:1e3})}else{if(e.getParameter("text")){this.getView().getModel().setProperty(this.borrowBookEvent.getPath()+"/book_ID",e.getParameter("text"))}else{o.show("")}}},onScanBorrowBookError:function(e){o.show("Scan failed: "+e,{duration:1e3})},saveBorrowBook:function(){let e=this.getView().getModel();let t=this.borrowBookEvent.getProperty("book_ID");let s=e.getProperty("/Books("+t+")");this.getView().getModel().setProperty(this.borrowBookEvent.getPath()+"/bookName",s.title);if(s.availability==="N"){i.warning(this.i18n.getText("borrowedBookWarning"));return 1}e.submitChanges({success:$.proxy(function(){o.show(this.i18n.getText("successfullyCreated"));this.getView().byId("idTblBookData").rebindTable();this.onCloseBorrowBookDialog();this.byId("smartChartBooks").rebindChart();this.byId("smartChartAuthors").rebindChart()},this),error:function(e){var t=JSON.parse(e.responseText).error.message.value;i.error(t)}})},onCloseBorrowBookDialog:function(){this.BorrowBookDialog.close();this.borrowBookEvent=null;this.BorrowBookDialog.unbindElement()}})});
},
	"custombookshop/i18n/i18n.properties":'# This is the resource bundle for custombookshop\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Custom Bookshop\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Main view title\ntitle=Bookshop\n\nflpTitle=Cap Bookshop\nname=Name\nauthorName=Author name\nbookID=Book ID\nauthorID=Author ID\ndeneme=Test\ncreateBook=Create Book\nmaintainBook=Maintain Book\nchangeBook=Change Book\nbookTitle=Book Title\nsave=Save\ncancel=Cancel\nedit=Edit\nsuccessfullyCreated=Successfully created\nsuccessfullyUpdated=Successfully updated\ncategory=Category\nareUSureBookDelete=Are you sure you want to delete this book?\nsuccBookDelete=Successfully deleted book\nconfirm=Confirm\ndelete=Delete\naddNewAuthor=Add New Author\naddNewCategory=Add New Category\nborrowBook=Borrow Book\nperson=Person\nreturnDate=Return Date\nreportings=Reportings\nbooks=Books\nborrowedBookWarning=The book you\'re trying to borrow is already borrowed by someone else. Please choose another book or try again later.\nfindBook=Find Book\nlink=Link\nopen=Open\nbooksCharts=Books Charts\nauthorsCharts=Authors Charts\nauthor=Authors',
	"custombookshop/i18n/i18n_en.properties":'# This is the resource bundle for custombookshop\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Custom Bookshop\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Main view title\ntitle=Bookshop\n\nflpTitle=Cap Bookshop\nname=Name\nauthorName=Author name\nbookID=Book ID\nauthorID=Author ID\ndeneme=Test\ncreateBook=Create Book\nmaintainBook=Maintain Book\nchangeBook=Change Book\nbookTitle=Book Title\nsave=Save\ncancel=Cancel\nedit=Edit\nsuccessfullyCreated=Successfully created\nsuccessfullyUpdated=Successfully updated\ncategory=Category\nareUSureBookDelete=Are you sure you want to delete this book?\nsuccBookDelete=Successfully deleted book\nconfirm=Confirm\ndelete=Delete\naddNewAuthor=Add New Author\naddNewCategory=Add New Category\nborrowBook=Borrow Book\nperson=Person\n',
	"custombookshop/manifest.json":'{"_version":"1.59.0","sap.app":{"id":"custombookshop","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.13.0","toolsId":"4de3e00b-f730-4a8a-9424-759583fcc447"},"dataSources":{"mainService":{"uri":"odata/v2/catalog/","type":"OData","settings":{"annotations":[],"odataVersion":"2.0"}}},"crossNavigation":{"inbounds":{"capbookshop-display":{"semanticObject":"capbookshop","action":"display","title":"{{flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"dependencies":{"minUI5Version":"1.122.0","libs":{"sap.m":{},"sap.ui.core":{},"sap.f":{},"sap.suite.ui.generic.template":{},"sap.ui.comp":{},"sap.ui.generic.app":{},"sap.ui.table":{},"sap.ushell":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"custombookshop.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"synchronizationMode":"None","operationMode":"Server","autoExpandSelect":true,"earlyRequests":true,"defaultBindingMode":"TwoWay"}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"custombookshop.view","controlAggregation":"pages","controlId":"app","clearControlAggregation":false},"routes":[{"name":"RouteApp","pattern":":?query:","target":["TargetApp"]}],"targets":{"TargetApp":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"Main","viewName":"Main"}}},"rootView":{"viewName":"custombookshop.view.App","type":"XML","async":true,"id":"App"}}}',
	"custombookshop/model/models.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"custombookshop/view/App.view.xml":'<mvc:View controllerName="custombookshop.controller.App"\n    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"\n    xmlns="sap.m"><App id="app"></App></mvc:View>\n',
	"custombookshop/view/Main.view.xml":'<mvc:View controllerName="custombookshop.controller.Main"\n  xmlns:mvc="sap.ui.core.mvc"\n  xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"\n  xmlns:form="sap.ui.layout.form"\n  xmlns:core="sap.ui.core"\n  xmlns:smartTable="sap.ui.comp.smarttable"\n  xmlns="sap.m"\n  xmlns:u="sap.ui.unified"\n  xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n  xmlns:sl="sap.ui.comp.navpopover"\n  xmlns:ndc="sap.ndc"\n  xmlns:smartchart="sap.ui.comp.smartchart" displayBlock="true"><Page id="page" title="{i18n>title}" titleAlignment="Center"><IconTabBar id="idIconTabBar" class="sapUiResponsiveContentPadding"><items><IconTabFilter text="{i18n>books}" key="books"><smartFilterBar:SmartFilterBar id="smartFilterBar" entitySet="Books" persistencyKey="SmartFilter_Explored" enableBasicSearch="false" showClearOnFB="true"><smartFilterBar:layoutData><FlexItemData shrinkFactor="0"/></smartFilterBar:layoutData></smartFilterBar:SmartFilterBar><smartTable:SmartTable id="idTblBookData" entitySet="Books" tableType="ResponsiveTable" header="Books" smartFilterId="smartFilterBar" persistencyKey="SmartTableAnalytical_Explored" enableAutoBinding="true" beforeRebindTable="onBeforeRebindBooksTable" class="sapUiResponsiveContentPadding" enableAutoColumnWidth="true"><smartTable:customToolbar><OverflowToolbar id="_IDGenOverflowToolbar1" design="Transparent"><ToolbarSpacer id="_IDGenToolbarSpacer1"/><ndc:BarcodeScannerButton id="BarcodeScannerButton" scanSuccess="onScanSuccess" scanFail="onScanError" inputLiveUpdate="onScanLiveupdate" dialogTitle="{i18n>findBook}"/><Button id="_IDGenButton1" text="{i18n>createBook}" press="onCreateBook" type="Emphasized"/><Button id="_IDGenButton2" text="{i18n>borrowBook}" press="onBorrowBook" type="Default"/></OverflowToolbar></smartTable:customToolbar><Table id="idTable" selectionChange="onSelectChange" mode="SingleSelectMaster" inset="false" sticky="ColumnHeaders,HeaderToolbar" growing="true" growingScrollToLoad="false" growingThreshold="20" growingDirection="Downwards" updateFinished="onUpdateFinished"><columns><Column id="id" width="13%" hAlign="End"><customData><core:CustomData key="p13nData" value=\'\\{"columnKey": "Edit", "columnIndex": 6}\'/></customData><Text text="{i18n>edit}" visible="false"/></Column></columns><items><ColumnListItem vAlign="Middle"><cells><HBox justifyContent="End" alignItems="Start" alignContent="SpaceBetween"><Button icon="sap-icon://edit" press="onEditBook" tooltip="{i18n>edit}" class="sapUiTinyMarginEnd"/><Button icon="sap-icon://delete" press="onDeleteBook" tooltip="{i18n>delete}" enabled="true" class="sapUiTinyMarginEnd"/><Button icon="sap-icon://chain-link" press="onPressIsbn" enabled="true" class="sapUiTinyMarginEnd"/></HBox></cells></ColumnListItem></items></Table></smartTable:SmartTable></IconTabFilter><IconTabFilter text="{i18n>reportings}" key="reporting"><smartFilterBar:SmartFilterBar id="smartFilterBarReportings" entitySet="Reportings" persistencyKey="SmartFilterReportings_Explored" enableBasicSearch="false" showClearOnFB="true"><smartFilterBar:layoutData><FlexItemData shrinkFactor="0"/></smartFilterBar:layoutData></smartFilterBar:SmartFilterBar><smartTable:SmartTable entitySet="Reportings" tableType="ResponsiveTable" smartFilterId="smartFilterBarReportings" enableAutoBinding="true" header="{i18n>reportings}"></smartTable:SmartTable><smartchart:SmartChart id="smartChartBooks" enableAutoBinding="true" entitySet="BooksCharts" header="{i18n>booksCharts}" width="50%" height="300px"/><smartchart:SmartChart id="smartChartAuthors" enableAutoBinding="true" entitySet="AuthorsCharts" header="{i18n>authorsCharts}" width="50%" height="300px"/></IconTabFilter><IconTabFilter text="{i18n>author}" key="author"><smartFilterBar:SmartFilterBar id="smartFilterBarAuthors" entitySet="Authors" persistencyKey="SmartFilterAuthors_Explored" enableBasicSearch="false" showClearOnFB="true"><smartFilterBar:layoutData><FlexItemData shrinkFactor="0"/></smartFilterBar:layoutData><smartTable:SmartTable entitySet="Authors" tableType="ResponsiveTable" smartFilterId="smartFilterBarAuthors" enableAutoBinding="true" header="{i18n>author}"></smartTable:SmartTable></smartFilterBar:SmartFilterBar></IconTabFilter></items></IconTabBar></Page></mvc:View>',
	"custombookshop/view/fragments/BorrowBook.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n    xmlns:f="sap.ui.layout.form"\n    xmlns:l="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n    xmlns:smartForm="sap.ui.comp.smartform"\n    xmlns:smartField="sap.ui.comp.smartfield"\n    xmlns:ndc="sap.ndc"\n    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"><Dialog id="BorrowBookFragment" class="sapUiSizeCompact" contentWidth="400px"><VBox id="emID" class="sapUiSmallMargin"><f:SimpleForm id="SimpleFormChange354" editable="true" layout="ResponsiveGridLayout" labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false"><f:content><Label text="{i18n>bookID}"/><Input value="{book_ID}" required="true"/><ndc:BarcodeScannerButton id="sampleBarcodeScannerButton" scanSuccess="onScanBorrowBookSuccess" scanFail="onScanBorrowBookError"\n\t\t\t\t\tinputLiveUpdate="onScanLiveupdate" dialogTitle="Barcode Scanner"/><Label text="{i18n>person}"/><Input value="{person}" required="true"/><Label text="{i18n>returnDate}"/><DatePicker value="{path:\'returnDate\',type:\'sap.ui.model.type.Date\',formatOptions:\'yyyy-MM-dd\'}" required="true"></DatePicker></f:content></f:SimpleForm></VBox><buttons><Button text="{i18n>save}" press="saveBorrowBook" type="Emphasized"/><Button text="{i18n>cancel}" press="onCloseBorrowBookDialog"/></buttons></Dialog></core:FragmentDefinition>',
	"custombookshop/view/fragments/CreateBook.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:l="sap.ui.layout"\n\txmlns:core="sap.ui.core"\n\txmlns:smartForm="sap.ui.comp.smartform"\n\txmlns:smartField="sap.ui.comp.smartfield"\n\txmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"><Dialog id="CreateBookFragment" class="sapUiSizeCompact" contentWidth="400px"><VBox id="emID" class="sapUiSmallMargin"><f:SimpleForm id="SimpleFormChange354" editable="true" layout="ResponsiveGridLayout" labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false"><f:content><Label text="{i18n>bookTitle}"/><Input value="{title}"/><Label text="{i18n>authorName}"/><HBox alignContent="SpaceBetween" width="100%"><ComboBox items="{/Authors}" selectedKey="{author_ID}" editable="{= !${viewModel>/authorNameVisibility}}"><core:Item key="{ID}" text="{name}"/></ComboBox><Button press="onCreateAuthor" icon="sap-icon://add"/></HBox><Input value="{viewModel>/authorName}" visible="{viewModel>/authorNameVisibility}"/><Label text="{i18n>category}"/><HBox alignContent="SpaceBetween" width="100%"><ComboBox items="{/Categories}" selectedKey="{category_ID}" editable="{= !${viewModel>/categoryNameVisibility}}"><core:Item key="{ID}" text="{name}"/></ComboBox><Button press="onCreateCategory" icon="sap-icon://add"/></HBox><Input value="{viewModel>/categoryName}" visible="{viewModel>/categoryNameVisibility}"/></f:content></f:SimpleForm><l:VerticalLayout id="idVerticalLayout" width="100%"></l:VerticalLayout></VBox><buttons><Button id="_IDGenButton1" text="{i18n>save}" press="saveBook" type="Emphasized"/><Button id="_IDGenButton2" text="{i18n>cancel}" press="onCloseCreateBookDialog"/></buttons></Dialog></core:FragmentDefinition>'
}});
